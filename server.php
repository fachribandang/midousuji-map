<?php
// all zone
$all_west_offices_id=[
    3,
    4,
    6,
    10,
    11,
    13,
    14,
    15,
    16,
    19,
    20,
    23,
    26,
    28,
    29,
    31,
    32,
    36,
    37,
    40,
    39,
    42,
    43,
    45,
    46,
    47,
    50,
    49,
    52,
    53,
    54,
];
$all_east_offices_id=[
    1,
    2,
    5,
    8,
    9,
    12,
    17,
    18,
    21,
    22,
    24,
    25,
    27,
    30,
    33,
    34,
    35,
    38,
    41,
    44,
    51,
];

// nishi west
$west_offices=[
    "ミズノ 淀屋橋店",
    "淀屋橋今西ビル",
    "三井住友海上大阪淀屋橋ビル",
    "ューリック大阪ビル",
    "大阪興銀ビル",
    "大阪朝日生命会館",
    "朝日生命館",
    "ランドアクシスタワー",
    "明治安田生命大阪御堂筋ビル",
    "WAKITA 藤村御堂筋ビル",
    "武田御堂筋ビル",
    "大阪ガスビルディング",
    "オービック御堂筋ビル",
    "UD御堂筋ビル",
    "損保ジャパン大阪ビル",
    "京阪神瓦町ビル",
    "御堂筋三井ビルディング",
    "北御堂",
    "第二有楽ビル",
    "相愛大学本町学舎",
    "御堂ビルディング",
    "東芝大阪ビル",
    "ヨドコウビル",
    "イヨビルディング(株)",
    "太陽生命保険保有地",
    "大阪御堂筋ビル・大阪センタービル",
    "真宗大谷派難波別院",
    "積和不動産関西南御堂ビル",
    "セントラファエロチャペル",
    "ザ・ビー 大阪 御堂筋",
    "御堂筋ダイビル",
];
$west_offices_id_1=[
    3,
    4,
    6,
    10,
    11,
    13,
];
$west_offices_id_2=[
    14,
    15,
    16,
    19,
    20,
    23,
    26,
];
$west_offices_id_3=[
    28,
    29,
    31,
    32,
    36,
    37,
    40,
    39,
];
$west_offices_id_4=[
    42,
    43,
    45,
    46,
    47,
    50,
    49,
    52,
    53,
    54,
];
$west_offices_1=[
    "日土地淀屋橋ビル",
    "淀屋橋今西ビル",
    "三井住友海上大阪淀屋橋ビル",
    "ューリック大阪ビル",
    "大阪興銀ビル",
    "大阪朝日生命会館",
];
$west_offices_2=[
    "朝日生命館",
    "ランドアクシスタワー",
    "明治安田生命大阪御堂筋ビル",
    "WAKITA 藤村御堂筋ビル",
    "武田御堂筋ビル",
    "大阪ガスビルディング",
    "オービック御堂筋ビル",
];
$west_offices_3=[
    "UD御堂筋ビル",
    "損保ジャパン大阪ビル",
    "京阪神瓦町ビル",
    "御堂筋三井ビルディング",
    "北御堂",
    "第二有楽ビル",
    "相愛大学本町学舎",
    "御堂ビルディング",
];
$west_offices_4=[
    "東芝大阪ビル",
    "ヨドコウビル",
    "イヨビルディング(株)",
    "太陽生命保険保有地",
    "大阪御堂筋ビル・大阪センタービル",
    "真宗大谷派難波別院",
    "積和不動産関西南御堂ビル",
    "セントラファエロチャペル",
    "ザ・ビー 大阪 御堂筋",
    "御堂筋ダイビル",
]; 

// higashi East
$east_offices=[
    "日土地淀屋橋ビル",
    "淀屋橋今西ビル",
    "日本生命保険相互会社 本店",
    "日本生命本店南館",
    "淀屋橋東京海上日動ビルディング",
    "三菱UFJ銀行大阪ビル 本館",
    "三菱UFJ信託銀行大阪ビル",
    "大阪ガス御堂筋東ビル",
    "京阪神 御堂筋ビル",
    "御堂筋野村ビル",
    "あいおいニッセイ同和損保御堂筋ビル",
    "創建御堂筋ビル",
    "NREG御堂筋ビル",
    "銀泉備後町ビル",
    "KFセンタービル",
    "アーバネックス備後町ビル",
    "御堂筋安土町ビル",
    "御堂筋本町ビル",
    "本町ガーデンシティ",
    "イトゥビル",
    "本町南ガーデンシティ",
]; 
$east_offices_id_1=[
    1,
    2,
    5,
    8,
    9,
    12,
];
$east_offices_id_2=[
    17,
    18,
    21,
    22,
    24,
    25,
];
$east_offices_id_3=[
    27,
    30,
    33,
    34,
    35,
    38,
];
$east_offices_id_4=[
    41,
    44,
    51,
];
$east_offices_1=[
    "日土地淀屋橋ビル",
    "淀屋橋今西ビル",
    "日本生命保険相互会社 本店",
    "日本生命本店南館",
    "淀屋橋東京海上日動ビルディング",
    "三菱UFJ銀行大阪ビル 本館",
];
$east_offices_2=[
    "三菱UFJ信託銀行大阪ビル",
    "大阪ガス御堂筋東ビル",
    "京阪神 御堂筋ビル",
    "御堂筋野村ビル",
    "あいおいニッセイ同和損保御堂筋ビル",
    "創建御堂筋ビル",
];
$east_offices_3=[
    "NREG御堂筋ビル",
    "銀泉備後町ビル",
    "KFセンタービル",
    "アーバネックス備後町ビル",
    "御堂筋安土町ビル",
    "御堂筋本町ビル",
];
$east_offices_4=[
    "本町ガーデンシティ",
    "イトゥビル",
    "本町南ガーデンシティ",
]; 
$Landmark=[
    "淀屋橋駅",
    "土佐掘川",
    "本町駅",
]; 
function get_status_for_navigation ($key) {
    $page = (isset($_GET['page'])) ? $_GET['page'] : "zone-1";
    $result = "";
    if($page == $key){
        $result = "active";
    }
    echo $result;
}
function get_acceptance_status_button ($id,$status) {
    if($status == 3){
        $result = <<< HEREDOC
            <a class="btn btn-sm btn-success p-1"  href="./handler/edit_acceptance_status.php?id={$id}&status=NULL">受入中</a>
        HEREDOC;
    }else{
        $result = <<< HEREDOC
            <a class="btn btn-sm btn-secondary p-1" href="./handler/edit_acceptance_status.php?id={$id}&status=3">受入不可</a>
        HEREDOC;
    }
    return $result;
}
function get_bg_for_accepting_evacuation ($key) {
    $offices = get_all_facilities_accepting_evacuation();
    $result = '';
    foreach ($offices as &$office) {
        if($office['id']==$key){
            $result = 'bg-success-op75 border border-2 border-success';
            break;
        }
    }
    return $result;
}
function filter_zone ($offices_list, $offices_id_list) {
    $result=[];
    foreach ($offices_list as &$offices) {
        foreach ($offices_id_list as &$id) {
            if($offices['id']==$id){
                array_push($result,$offices);
            }
        }
    }
    return $result;
}
function render_facilitie_accepting_evacuation ($office) {
    echo <<< HEREDOC
    <tr>
        <td>{$office['id']}</td>
        <td>{$office['name']}</td>
    </tr>
    HEREDOC;
}
function render_facilitie_accepting_editor ($office) {
    $button = get_acceptance_status_button($office['id'],$office['acceptance_status']);
    echo <<< HEREDOC
    <tr>
        <td>{$office['id']}</td>
        <td>{$office['name']}</td>
        <td>{$button}</td>
    </tr>
    HEREDOC;
}
function render_office ($office) {
    $bg_box = get_bg_for_accepting_evacuation ($office);
    echo <<< HEREDOC
    <div id="box" class="text-center box-id-{$office} {$bg_box}">
      <span>{$office}</span><br>
    </div>
    HEREDOC;
}
function add_css ($cssName) {
    echo <<< HEREDOC
    <script type="text/javascript">
        var name = "$cssName"
        var link = document.createElement( "link" );
        link.href = "./style/" + name;
        link.type = "text/css";
        link.rel = "stylesheet";
        link.media = "screen,print";
        document.getElementsByTagName( "head" )[0].appendChild( link );
    </script>
    HEREDOC;
}
?>

